<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8">

<title>class Player - Rails Application Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Object
  
</div>

    <div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
  
  
    <li><span class="include">Mongoid::Document</span>
  
  
  
    <li><span class="include">Mongoid::Timestamps</span>
  
  
  </ul>
</div>

    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-new_player">::new_player</a>
    
    <li ><a href="#method-c-nick_exists-3F">::nick_exists?</a>
    
    <li ><a href="#method-i-base_value">#base_value</a>
    
    <li ><a href="#method-i-is_alive-3F">#is_alive?</a>
    
    <li ><a href="#method-i-level">#level</a>
    
    <li ><a href="#method-i-max_hp">#max_hp</a>
    
    <li ><a href="#method-i-max_sp">#max_sp</a>
    
    <li ><a href="#method-i-percent_hp">#percent_hp</a>
    
    <li ><a href="#method-i-percent_sp">#percent_sp</a>
    
    <li ><a href="#method-i-physattr">#physattr</a>
    
    <li ><a href="#method-i-physattr_exists-3F">#physattr_exists?</a>
    
    <li ><a href="#method-i-plyrattr_exists-3F">#plyrattr_exists?</a>
    
    <li ><a href="#method-i-setBase">#setBase</a>
    
    <li ><a href="#method-i-setRace">#setRace</a>
    
    <li ><a href="#method-i-skill_exists-3F">#skill_exists?</a>
    
    <li ><a href="#method-i-skillup">#skillup</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Player">
  <h1 id="class-Player" class="class">
    class Player
  </h1>

  <section class="description">
    
  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new_player" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new_player</span><span
            class="method-args">(nick)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="new_player-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">new_player</span>(<span class="ruby-identifier">nick</span>)
  <span class="ruby-identifier">p</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">p</span>.<span class="ruby-identifier">nick</span> = <span class="ruby-identifier">nick</span>
  <span class="ruby-identifier">p</span>.<span class="ruby-identifier">coin</span> = <span class="ruby-value">50</span>
  <span class="ruby-identifier">p</span>.<span class="ruby-identifier">skillPoints</span> = <span class="ruby-value">4</span>
  <span class="ruby-identifier">p</span>.<span class="ruby-identifier">hp</span> = <span class="ruby-value">1</span>
  <span class="ruby-identifier">p</span>.<span class="ruby-identifier">sp</span> = <span class="ruby-value">1</span>
  <span class="ruby-identifier">p</span>.<span class="ruby-identifier">plyrattrs</span> = <span class="ruby-constant">Plyrattr</span>.<span class="ruby-identifier">new_list</span>   <span class="ruby-comment"># New list of attrs</span>
  <span class="ruby-identifier">p</span>.<span class="ruby-identifier">plyrattr_exists?</span>(<span class="ruby-string">&quot;Any&quot;</span>).<span class="ruby-identifier">base_value</span> = <span class="ruby-value">0</span>
  <span class="ruby-identifier">p</span>.<span class="ruby-identifier">plyrskills</span> = <span class="ruby-constant">Plyrskill</span>.<span class="ruby-identifier">new_list</span> <span class="ruby-comment"># New list of skills</span>
  <span class="ruby-identifier">p</span>.<span class="ruby-identifier">level_log</span> = []
  <span class="ruby-identifier">p</span>.<span class="ruby-identifier">level_log</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;Created a character!&quot;</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">p</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-nick_exists-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">nick_exists?</span><span
            class="method-args">(nick)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>If a player has that nick, return that player, else return nil.</p>
          
          

          
          <div class="method-source-code" id="nick_exists-3F-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 83</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">nick_exists?</span>(<span class="ruby-identifier">nick</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-constant">Player</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">nick</span><span class="ruby-operator">:</span> <span class="ruby-identifier">nick</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-base_value" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">base_value</span><span
            class="method-args">(name, collection)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Guesses what the name belongs to, and tries to get the base value</p>
          
          

          
          <div class="method-source-code" id="base_value-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 47</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">base_value</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">collection</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-constant">Physattr</span>.<span class="ruby-identifier">long_name</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">collection</span> <span class="ruby-operator">==</span> <span class="ruby-value">:plyrattrs</span>
  <span class="ruby-identifier">send</span>(<span class="ruby-identifier">collection</span>).<span class="ruby-identifier">where</span>(<span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-identifier">name</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">base_value</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-is_alive-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_alive?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns true if the player has any hp</p>
          
          

          
          <div class="method-source-code" id="is_alive-3F-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 76</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">is_alive?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">hp</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-level" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">level</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the player&#39;s level</p>
          
          

          
          <div class="method-source-code" id="level-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 53</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">level</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">level_log</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-max_hp" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">max_hp</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the players max hp</p>
          
          

          
          <div class="method-source-code" id="max_hp-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 58</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">max_hp</span>
  <span class="ruby-identifier">level</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">base_value</span>(<span class="ruby-value">:str</span>, <span class="ruby-value">:plyrattrs</span>) <span class="ruby-operator">+</span> <span class="ruby-value">2</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">base_value</span>(<span class="ruby-value">:con</span>, <span class="ruby-value">:plyrattrs</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-max_sp" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">max_sp</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the players max sp</p>
          
          

          
          <div class="method-source-code" id="max_sp-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 63</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">max_sp</span>
  <span class="ruby-identifier">level</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">base_value</span>(<span class="ruby-value">:wis</span>, <span class="ruby-value">:plyrattrs</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">base_value</span>(<span class="ruby-value">:con</span>, <span class="ruby-value">:plyrattrs</span>) <span class="ruby-operator">+</span> <span class="ruby-value">5</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-percent_hp" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">percent_hp</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="percent_hp-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 71</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">percent_hp</span>
  <span class="ruby-identifier">hp</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">max_hp</span> <span class="ruby-operator">*</span> <span class="ruby-value">100</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-percent_sp" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">percent_sp</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="percent_sp-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 67</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">percent_sp</span>
  <span class="ruby-identifier">sp</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">max_sp</span> <span class="ruby-operator">*</span> <span class="ruby-value">100</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-physattr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">physattr</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="physattr-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 173</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">physattr</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">plyrattr</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-physattr_exists-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">physattr_exists?</span><span
            class="method-args">(rattr_name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>In order to make things a little more general, we can refer to the plyrattr
as physattr</p>
          
          

          
          <div class="method-source-code" id="physattr_exists-3F-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 169</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">physattr_exists?</span>(<span class="ruby-identifier">rattr_name</span>)
  <span class="ruby-identifier">plyrattr_exists?</span>(<span class="ruby-identifier">rattr_name</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-plyrattr_exists-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">plyrattr_exists?</span><span
            class="method-args">(rattr_name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Check for a valid physattr name Automatically add the plyrattr if it does
not exists Returns the plyrattr object if it exists</p>
          
          

          
          <div class="method-source-code" id="plyrattr_exists-3F-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 147</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">plyrattr_exists?</span>(<span class="ruby-identifier">rattr_name</span>)
  <span class="ruby-identifier">rattr</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">plyrattrs</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-identifier">rattr_name</span>).<span class="ruby-identifier">first</span>

  <span class="ruby-comment"># We are done if the rattr exists</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">rattr</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">rattr</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>

  <span class="ruby-comment"># Now check if the name actually exists</span>
  <span class="ruby-identifier">pattr</span> = <span class="ruby-constant">Physattr</span>.<span class="ruby-identifier">name_exists?</span> <span class="ruby-identifier">rattr_name</span>
  <span class="ruby-comment"># If the pattr doesn&#39;t exist, we are done</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">pattr</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>

  <span class="ruby-comment"># Since it does exist, we add it to the list</span>
  <span class="ruby-identifier">new</span> = <span class="ruby-constant">Plyrattr</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">new</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">pattr</span>.<span class="ruby-identifier">name</span>
  <span class="ruby-identifier">new</span>.<span class="ruby-identifier">base_value</span> = <span class="ruby-value">0</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">plyrattrs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">new</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-setBase" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">setBase</span><span
            class="method-args">(base_name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <pre>Set player base class</pre>

<p>Returns nil if the class does not exist Returns true if successful</p>
          
          

          
          <div class="method-source-code" id="setBase-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 90</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">setBase</span>(<span class="ruby-identifier">base_name</span>)
  <span class="ruby-identifier">base_name</span>.<span class="ruby-identifier">capitalize!</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">Basetype</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-identifier">base_name</span>).<span class="ruby-identifier">exists?</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">baseType</span> = <span class="ruby-identifier">base_name</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-setRace" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">setRace</span><span
            class="method-args">(race_name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Set player race Returns nil if the race does not exist Returns true if
successful</p>
          
          

          
          <div class="method-source-code" id="setRace-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 102</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">setRace</span>(<span class="ruby-identifier">race_name</span>)
  <span class="ruby-identifier">race_name</span>.<span class="ruby-identifier">capitalize!</span>
  <span class="ruby-comment"># Check that the race exists</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">Race</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-identifier">race_name</span>).<span class="ruby-identifier">exists?</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">race</span> = <span class="ruby-identifier">race_name</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># If the race didn&#39;t exist, return nil</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-skill_exists-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">skill_exists?</span><span
            class="method-args">(skill_name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Check for a valid skill name This will also automatically add the skill to
the player if the skill exists, but the player does not have it. Returns
the skill object if it exists, else returns nil.</p>
          
          

          
          <div class="method-source-code" id="skill_exists-3F-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 117</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">skill_exists?</span>(<span class="ruby-identifier">skill_name</span>)
  <span class="ruby-comment"># Check if the player has that skill</span>
  <span class="ruby-identifier">ps</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">plyrskills</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-identifier">skill_name</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-comment"># We are done if the the player has that skill</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ps</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">ps</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>

  <span class="ruby-comment"># Now we need to check if that skill actually exists.</span>
  <span class="ruby-identifier">skill</span> = <span class="ruby-constant">Skill</span>.<span class="ruby-identifier">name_exists?</span> <span class="ruby-identifier">skill_name</span>
  <span class="ruby-comment"># If the skill does not exist at all, we&#39;re done.</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">skill</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>

  <span class="ruby-comment"># Since the skill exists, we need to add it to the player.</span>
  <span class="ruby-identifier">new</span> = <span class="ruby-constant">Plyrskill</span>.<span class="ruby-identifier">clone</span> <span class="ruby-identifier">skill</span>
  <span class="ruby-identifier">new</span>.<span class="ruby-identifier">base_value</span> = <span class="ruby-value">0</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">plyrskills</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">new</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-skillup" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">skillup</span><span
            class="method-args">(skill_name, x=1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Increment a player skill Returns nil if the skill does not exist Returns
the current value of the skill on success</p>
          
          

          
          <div class="method-source-code" id="skillup-source">
            <pre><span class="ruby-comment"># File app/models/player.rb, line 138</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">skillup</span>(<span class="ruby-identifier">skill_name</span>, <span class="ruby-identifier">x</span>=<span class="ruby-value">1</span>)
  <span class="ruby-identifier">s</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">plyrskills</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-identifier">skill_name</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">s</span>
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">up</span> <span class="ruby-identifier">x</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

